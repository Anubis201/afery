<div class="container page d-none d-sm-block">
  <ng-container *ngIf="(isExists | async) && (article | async)?.imageSrc">
    <div class="page__title">
      {{ article.value?.title }}
    </div>
    <div class="page__time">Data utworzenia: {{ article.value?.createDate | date:'dd.MM.yyyy' }}</div>
    <div class="page__image" [style.background-image]="'url(' + article.value?.imageSrc + ')'">
      <img *ngIf="article.value?.type === ArticlesTypesEnum.PoliticalParties" class="page__image--organization" [src]="'/assets/icons/parties/' + PartiesEnum[$any(article.value?.entity)] + '.jpg'" alt="Logo">
    </div>
    <span class="page__costs">
      <span class="page__costs--icons" *ngIf="article.value?.costs">
        <mat-icon>money_off</mat-icon>
        {{ article.value?.costs | millions }}
        <span *ngIf="$any(article.value?.viewership) >= 100" class="page__costs--break"> | </span>
      </span>
      <span *ngIf="$any(article.value?.viewership) >= 100" class="page__viewership page__costs--icons">
        <mat-icon>remove_red_eye</mat-icon>
        {{ article.value?.viewership }}
      </span>
    </span>
    <div class="page__desc">
      {{ article.value?.text }}
    </div>
    <app-write-comment [isSavingComment]="isSavingComment" [countComment]="(comments | async)?.length" (addComment)="handleAddComment($event)"></app-write-comment>
    <app-comments [comments]="comments.value"></app-comments>
  </ng-container>

  <ng-container *ngIf="!isExists.value">
    <div class="not-exists">
      <div class="not-exists--error">404</div>
      Nie znaleziono takiej strony
    </div>
  </ng-container>
</div>

<div class="d-sm-none page-mobile">
  <ng-container *ngIf="(isExists | async) && (article | async)?.imageSrc">
    <div class="page-mobile__image" [style.background-image]="'url(' + article.value?.imageSrc + ')'">
      <img *ngIf="article.value?.type === ArticlesTypesEnum.PoliticalParties" class="page-mobile__image--org" [src]="'/assets/icons/parties/' + PartiesEnum[$any(article.value?.entity)] + '.jpg'" alt="Logo">
    </div>
    <div class="page-mobile__content">
      <div class="page-mobile__content__title">
        {{ article.value?.title }}
      </div>
      <div class="page-mobile__content__time">
        Data utworzenia: {{ article.value?.createDate | date:'dd.MM.yyyy' }}
      </div>
      <span class="page__costs">
        <span class="page__costs--icons god" *ngIf="article.value?.costs">
          <mat-icon>money_off</mat-icon>
          <span>{{ article.value?.costs | millions }}</span>
          <span *ngIf="$any(article.value?.viewership) >= 100" class="page__costs--break"> | </span>
        </span>
        <span *ngIf="$any(article.value?.viewership) >= 100" class="page__viewership page__costs--icons god">
          <mat-icon>remove_red_eye</mat-icon>
          <span>{{ article.value?.viewership }}</span>
        </span>
      </span>
      <div class="page-mobile__content__desc">
        {{ article.value?.text }}
      </div>
      <app-write-comment [isSavingComment]="isSavingComment" [countComment]="(comments | async)?.length" (addComment)="handleAddComment($event)"></app-write-comment>
      <app-comments [comments]="comments.value"></app-comments>
    </div>
  </ng-container>

  <ng-container *ngIf="!isExists.value">
    <div class="not-exists">
      <div class="not-exists--error">404</div>
      Nie znaleziono takiej strony
    </div>
  </ng-container>
</div>
